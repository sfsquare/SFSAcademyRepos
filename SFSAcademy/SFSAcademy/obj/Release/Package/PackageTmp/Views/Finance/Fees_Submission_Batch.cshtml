@using SFSAcademy.Models
@model IList<FeeSubmission>

@{
    ViewBag.Title = "Fees_Particulars_New";
}

<div id="content-header">
    <img src="~/Content/images/show_finance.png" alt="Finance Logo">
    <h1>Fees Submission</h1>
    <h3>Student Fees Submission</h3>
    <div id="app-back-button">
        <a href='javascript:history.back()' onclick="return confirm('are you sure?')"><img src="~/Content/images/buttons/back.png"></a>
    </div>
</div>
<div><img src="~/Content/images/_global/header_underline_.jpg" width="100%"></div>

<div id="page-yield">
    <div id="flash_box">
        <p class="flash-msg"> @ViewBag.FeeCatError</p>
    </div>
    @if (Html.ValidationSummary() != null)
    {
        <p class="flash-msg"> @Html.ValidationSummary() </p>
    }

    <div id="grading-levels-form">

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            <div id="form-errors">@Html.ValidationSummary()</div>
            <div id="form-errors"></div>

            <div id="left-side-inputs">
                @{Html.RenderAction("_Student_Fees_Submission", "Finance");}
            </div>

            <div id="batchs">
                <div class="batch_select_box">
                    <div class="label-field-pair">
                        <label>
                            Select Batch
                        </label>
                    </div>
                    <div class="fee_category_scroll">

                        <div class="each_batch">
                            @for (var j = 0; j < Model.Count(); j++)
                            {
                                <div class="each_category">
                                    <label>@Model[j].FinanceFeeCategoryData.NAME - @Model[j].BatchData.NAME - @(Model[j].BatchData.START_DATE.HasValue ? Model[j].BatchData.START_DATE.Value.ToString("yyyy") : "") - @(Model[j].BatchData.END_DATE.HasValue ? Model[j].BatchData.END_DATE.Value.ToString("yyyy") : "")</label>
                                </div>
                                <div class="each_category">
                                    @Html.HiddenFor(x => x[j].FinanceFeeCategoryData.ID)
                                </div>
                                <div class="each_category">
                                    @Html.HiddenFor(x => x[j].BatchData.ID)
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>

            <input type="submit" value="Create" class="submit_button" formaction='@Url.Action("_Student_Fees_Submission", "Finance")' />
           }
    </div>
</div>

